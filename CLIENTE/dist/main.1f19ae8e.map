{"version":3,"sources":["pintarHTML.js","node_modules/node-fetch/browser.js","conexionAPI.js","main.js"],"names":["fs","require","pintarLogin","text","pintarPlantilla","pintarVerProducto","pintarCrearProducto","getGlobal","self","window","global","Error","module","exports","fetch","default","bind","Headers","Request","Response","urlAPI","getProductos","callback","then","response","json","data","getProductoId","id","deleteProducto","us","headers","method","body","JSON","stringify","status","addProducto","prod","getProductosCategoria","idcategoria","getCategorias","login","usuario","pass","nick","password","console","log","err","decodeUsuario","token","coded","split","decoded","atob","parse","verProducto","datos","document","getElementById","innerHTML","precio","descripcion","addEventListener","plantillaPintando","pintarProductos","borrarProducto","insertAdjacentHTML","htmlString","i","length","producto","t","nombre","tablaProductos","botonVer","botonBorrar","categoriaPintando","cat","localStorage","getItem","removeItem","loginPintando","value","categoria","ch","divCategorias","j","ca","boton","usu","setItem"],"mappings":"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","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["var fs = require(\"fs\");\n\nfunction pintarLogin(){\n    var text = fs.readFileSync('htmls/login.html', 'utf8');\n    return text;\n}\n\nexport {pintarLogin};\n\nfunction pintarPlantilla(){\n    var text = fs.readFileSync('htmls/plantilla.html', 'utf8');\n    return text;\n}\n\nexport {pintarPlantilla};\n\nfunction pintarVerProducto(){\n    var text = fs.readFileSync('htmls/producto.html', 'utf8');\n    return text;\n}\n\nexport {pintarVerProducto};\n\nfunction pintarCrearProducto(){\n    var text = fs.readFileSync('htmls/crearProducto.html', 'utf8');\n    return text;\n}\n\nexport {pintarCrearProducto};","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","const fetch = require(\"node-fetch\")\n\nconst urlAPI = 'http://localhost:3000';\n\nfunction getProductos(callback){\n    fetch(urlAPI + '/productos').then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getProductos}\n\nfunction getProductoId(id,callback){\n    fetch(urlAPI + '/productos/'+ id).then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getProductoId}\n\nfunction deleteProducto(id,callback){\n    var us = {id: id}\n    fetch(urlAPI + '/productos', {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n        method: 'DELETE',\n        body: JSON.stringify(us)\n    }).then(function(response){\n        if(response.status > 199 && response.status < 299){\n            callback('ok')\n        }\n        callback('no ok')\n    })\n}\n\nexport {deleteProducto}\n\nfunction addProducto(prod,callback){\n    fetch(urlAPI + '/productos', {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n        method: 'POST',\n        body: JSON.stringify(prod)\n    }).then(function(response){\n        if(response.status > 199 && response.status < 299){\n            callback('ok')\n        }\n        callback('no ok')\n    })\n}\n\nexport {addProducto}\n\nfunction getProductosCategoria(idcategoria, callback){\n    fetch(urlAPI + '/categorias/'+idcategoria+'/productos',\n    ).then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getProductosCategoria}\n\nfunction getCategorias(callback){\n    fetch(urlAPI + '/categorias').then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getCategorias}\n\nfunction login(usuario, pass, callback){\n    var us = {nick: usuario, password: pass};\n    //console.log(us.nick+ \" \"+ us.password)\n    fetch(urlAPI + '/login', {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n        method: 'POST',\n        body: JSON.stringify(us)\n    }).then(function(response){\n        if(response.status == 400 || response.status == 401){\n            console.log(response)\n            return callback({err: 'No login',text: 'Error, revisa los datos y vuelvelo a intentar'});\n        }\n        else{\n            response.text().then(function(data){\n                return callback(data);\n            })\n        }\n    })\n}\n\nexport {login}","import {pintarLogin, pintarPlantilla, pintarVerProducto, pintarCrearProducto} from './pintarHTML.js'\nimport {getProductos, addProducto, getProductoId, getProductosCategoria, deleteProducto, getCategorias, login} from './conexionAPI.js'\n\nfunction decodeUsuario(token){\n    var coded = token.split('.')[1]\n    var decoded = atob(coded);\n    var json = JSON.parse(decoded);\n    return json;\n}\n\nfunction verProducto(prod){\n    getProductoId(prod.id, function(datos){\n        //console.log(datos);\n        document.getElementById('principalVista').innerHTML = pintarVerProducto();\n        document.getElementById('tdId').innerHTML = datos.id;\n        document.getElementById('tdPrecio').innerHTML = datos.precio;\n        document.getElementById('tdDescripcion').innerHTML = datos.descripcion;\n        document.getElementById('botonVolver').addEventListener('click', ()=>{\n            getProductos(function(datos){\n                document.getElementById('principal').innerHTML = pintarPlantilla();\n                plantillaPintando();\n                pintarProductos(datos);\n            })\n        })\n    })\n}\n\nfunction borrarProducto(prod){\n    deleteProducto(prod.id, function(datos){\n        //console.log(datos);\n        document.getElementById('principal').innerHTML = pintarPlantilla();\n        plantillaPintando();\n        console.log(datos);\n        if(datos=='ok'){\n            console.log('JAJ')\n        }\n        getProductos(function(data){\n            document.getElementById('principal').innerHTML = pintarPlantilla();\n            plantillaPintando();\n            pintarProductos(data);\n            document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">Producto borrado con éxito<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n\n        })\n    })\n}\n\nfunction pintarProductos(datos){\n    var htmlString = \"\";\n        var i;\n        for(i=0;i<datos.length;i++){\n            var producto = datos[i];\n            var t = '<tr><th>'+producto.id+'</th><th>'+producto.nombre+'</th><th><button type=\"button\" id=\"ver'+i+'\" style=\"margin-right: 15px\" class=\"btn btn-light\">Ver</button><button type=\"button\" id=\"borrar'+i+'\" class=\"btn btn-danger\">Borrar</button></th></tr>';\n            htmlString+=t;\n        }\n        tablaProductos.innerHTML = htmlString;\n        for(i=0;i<datos.length;i++){\n            (function(){\n                var prod = datos[i];\n                var botonVer = document.getElementById('ver'+i);\n                var botonBorrar = document.getElementById('borrar'+i);\n                botonVer.addEventListener('click', function(){\n                    verProducto(prod);\n                });\n                botonBorrar.addEventListener('click', function(){\n                    borrarProducto(prod);\n                })\n            }())\n        }\n}\n\nfunction categoriaPintando(cat){\n    getProductosCategoria(cat.id, function(datos){\n        pintarProductos(datos);\n    })\n}\n\nfunction plantillaPintando(){\n    document.getElementById('principal').innerHTML = pintarPlantilla();\n    document.getElementById('nomUsuario').innerHTML = localStorage.getItem('user');\n    document.getElementById('botonHome').addEventListener('click', ()=> {\n        getProductos(function(datos){\n            document.getElementById('principal').innerHTML = pintarPlantilla();\n            plantillaPintando();\n            pintarProductos(datos);\n        })\n    });\n    document.getElementById('linkLogout').addEventListener('click', ()=>{\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        loginPintando();\n    });\n    document.getElementById('linkCrearProducto').addEventListener('click', ()=>{\n        document.getElementById('principal').innerHTML = pintarPlantilla();\n        plantillaPintando();\n        document.getElementById('principalVista').innerHTML = pintarCrearProducto();\n        document.getElementById('botonCrearProducto').addEventListener('click', ()=>{\n            var nombre = document.getElementById('inputNombre').value;\n            var precio = document.getElementById('inputPrecio').value;\n            var descripcion = document.getElementById('inputDescripcion').value;\n            var prod = {nombre: nombre, precio: precio, descripcion: descripcion, categoria: 1};\n            addProducto(prod, function (datos){\n                console.log(datos);\n                if(datos=='ok'){\n                    document.getElementById('principal').innerHTML = pintarPlantilla;\n                    plantillaPintando();\n                    document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div id=\"checkEsto\" class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">Producto creado con éxito<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n                }\n                if(datos=='no ok'){\n                    var ch = document.getElementById('checkEsto')\n                    if(!ch) document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">Error, vuelve a crear el producto<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>');\n                }\n                \n            })\n        })\n    })\n\n    //Aquí meto los productos\n    var tablaProductos = document.getElementById('tablaProductos');\n    getProductos(function(datos){\n        pintarProductos(datos);\n    })\n\n    //Aquí meto las categorias\n    var divCategorias = document.getElementById('divCategorias');\n    getCategorias(function(datos){\n        var htmlString = \"\";\n        var i;\n        for(i=0;i<datos.length;i++){\n            var categoria = datos[i];\n            var t = '<li class=\"nav-item\"><a id=\"categoria'+i+'\"class=\"nav-link\" href=\"#\"><i class=\"fas fa-fw\"></i><span>'+ categoria.nombre +'</span></a></li>'\n            htmlString+=t;\n        }\n        divCategorias.innerHTML = htmlString;\n        var j\n        for(j=0;j<datos.length;j++){\n            (function(){\n                var ca = datos[j];\n                var boton = document.getElementById('categoria'+j);\n                boton.addEventListener('click', function(){\n                    categoriaPintando(ca)\n                }); \n            }())\n            \n        }\n    });\n}\n\nfunction loginPintando(){\n    document.getElementById('principal').innerHTML = pintarLogin();\n\n    document.getElementById('botonLogin').addEventListener('click', ()=>{\n    var usu = document.getElementById('inputUsuario').value;\n    var pass = document.getElementById('inputPassword').value;\n    var text = login(usu, pass, function(datos){\n        if(datos.err){\n            document.getElementById('loginDiv').insertAdjacentHTML('afterend', '<div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">' + datos.text + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>')\n        }\n        else{\n            //console.log(datos);\n            localStorage.setItem('token', datos);\n            localStorage.setItem('user', decodeUsuario(datos).login);\n            //guardarlo en localstorage y acceder\n            plantillaPintando();\n            }\n        });\n    });\n}\n\nloginPintando();"]}