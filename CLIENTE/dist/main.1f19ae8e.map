{"version":3,"sources":["pintarHTML.js","node_modules/node-fetch/browser.js","conexionAPI.js","main.js"],"names":["fs","require","pintarLogin","text","pintarPlantilla","pintarVerProducto","pintarCrearProducto","pintarModificarProducto","pintarlistaProductos","getGlobal","self","window","global","Error","module","exports","fetch","default","bind","Headers","Request","Response","urlAPI","getProductos","callback","then","response","json","data","getProductoId","id","deleteProducto","token","us","headers","method","body","JSON","stringify","status","addProducto","prod","updateProducto","getProductosCategoria","idcategoria","getCategorias","login","usuario","pass","nick","password","console","log","err","decodeUsuario","coded","split","decoded","atob","parse","verProducto","datos","document","getElementById","innerHTML","precio","descripcion","addEventListener","plantillaPintando","pintarProductos","borrarProducto","localStorage","getItem","insertAdjacentHTML","modificarProducto","value","nombre","sel","html","i","length","cat","tx","options","indx","categoria_i","categoria_id","selectedIndex","botonMoficiar","nNombre","nPrecio","nDescripcion","nCategoria","nProducto","categoria","ch","htmlString","producto","t","tablaProductos","botonVer","botonBorrar","botonModificar","categoriaPintando","removeItem","loginPintando","divCategorias","j","ca","boton","usu","setItem"],"mappings":"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","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["var fs = require(\"fs\");\n\n//Todas las funciones leen diferentes archivos html que sirven de plantilla,\n//y devuelven estos archivos en un string para insertarlos \n\n\nfunction pintarLogin(){\n    var text = fs.readFileSync('htmls/login.html', 'utf8');\n    return text;\n}\n\nexport {pintarLogin};\n\nfunction pintarPlantilla(){\n    var text = fs.readFileSync('htmls/plantilla.html', 'utf8');\n    return text;\n}\n\nexport {pintarPlantilla};\n\nfunction pintarVerProducto(){\n    var text = fs.readFileSync('htmls/producto.html', 'utf8');\n    return text;\n}\n\nexport {pintarVerProducto};\n\nfunction pintarCrearProducto(){\n    var text = fs.readFileSync('htmls/crearProducto.html', 'utf8');\n    return text;\n}\n\nexport {pintarCrearProducto};\n\nfunction pintarModificarProducto(){\n    var text = fs.readFileSync('htmls/modificarProducto.html', 'utf8');\n    return text;\n}\n\nexport {pintarModificarProducto};\n\nfunction pintarlistaProductos(){\n    var text = fs.readFileSync('htmls/listaProductos.html', 'utf8');\n    return text;\n}\n\nexport {pintarlistaProductos};","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nexports.default = global.fetch.bind(global);\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","const fetch = require(\"node-fetch\")\n\nconst urlAPI = 'http://localhost:3000';\n\n\n//Funcion que pide todos los productos a la API y los devuelve en un array de JSON\nfunction getProductos(callback){\n    fetch(urlAPI + '/productos').then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getProductos}\n\n\n//Funcion que llama a la API que devuelve un producto en concreto dada su ID\nfunction getProductoId(id,callback){\n    fetch(urlAPI + '/productos/'+ id).then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getProductoId}\n\n//Funcion que llama a la API que borra un producto dada su ID\nfunction deleteProducto(id, token, callback){\n    var us = {id: id}\n    fetch(urlAPI + '/productos', {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer '+ token\n          },\n        method: 'DELETE',\n        body: JSON.stringify(us)\n    }).then(function(response){\n        if(response.status > 199 && response.status < 299){\n            callback('ok')\n        }\n        callback('no ok')\n    })\n}\n\nexport {deleteProducto}\n\n\n//Funcion que llama a la API que dados unos datos de producto inserta un producto\n//con estos datos\nfunction addProducto(prod,callback){\n    fetch(urlAPI + '/productos', {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n        method: 'POST',\n        body: JSON.stringify(prod)\n    }).then(function(response){\n        if(response.status > 199 && response.status < 299){\n            callback('ok')\n        }\n        callback('no ok')\n    })\n}\n\nexport {addProducto}\n\n//Funcion que llama a la API que dados unos datos de producto actualiza un producto\n//con estos datos\nfunction updateProducto(prod,callback){\n    fetch(urlAPI + '/productos', {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n        method: 'PUT',\n        body: JSON.stringify(prod)\n    }).then(function(response){\n        if(response.status > 199 && response.status < 299){\n            callback('ok')\n        }\n        callback('no ok')\n    })\n}\n\nexport {updateProducto}\n\n//Funcion que llama a la API que dada la ID de una categoria devuelve todos los productos que\n//se encuentran en dicha categoria\nfunction getProductosCategoria(idcategoria, callback){\n    fetch(urlAPI + '/categorias/'+idcategoria+'/productos',\n    ).then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getProductosCategoria}\n\n//Funcion que pide todas las categorias a la API y las devuelve en un array de JSON\nfunction getCategorias(callback){\n    fetch(urlAPI + '/categorias').then(function(response){\n        response.json().then(function(data){\n            //console.log(data);\n            return callback(data);\n        })\n    })\n}\n\nexport {getCategorias}\n\n//Funcion que hace login en la API. Si es correcto, devuelve un token, y si no lo es devuelve\n//un mensaje de error\nfunction login(usuario, pass, callback){\n    var us = {nick: usuario, password: pass};\n    //console.log(us.nick+ \" \"+ us.password)\n    fetch(urlAPI + '/login', {\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n        method: 'POST',\n        body: JSON.stringify(us)\n    }).then(function(response){\n        if(response.status == 400 || response.status == 401){\n            console.log(response)\n            return callback({err: 'No login',text: 'Error, revisa los datos y vuelvelo a intentar'});\n        }\n        else{\n            response.text().then(function(data){\n                return callback(data);\n            })\n        }\n    })\n}\n\nexport {login}","import {pintarLogin, pintarModificarProducto, pintarPlantilla, pintarVerProducto, pintarCrearProducto, pintarlistaProductos} from './pintarHTML.js'\nimport {getProductos, addProducto, updateProducto, getProductoId, getProductosCategoria, deleteProducto, getCategorias, login} from './conexionAPI.js'\nimport { resolveTxt } from 'dns';\n\n//Funcion que dado un token devuelve el payload decodificado\nfunction decodeUsuario(token){\n    var coded = token.split('.')[1]\n    var decoded = atob(coded);\n    var json = JSON.parse(decoded);\n    return json;\n}\n\n//Funcion que dado un producto muestra todos sus datos en una página\nfunction verProducto(prod){\n    getProductoId(prod.id, function(datos){\n        //console.log(datos);\n        document.getElementById('principalVista').innerHTML = pintarVerProducto();\n        document.getElementById('tdId').innerHTML = datos.id;\n        document.getElementById('tdPrecio').innerHTML = datos.precio;\n        document.getElementById('tdDescripcion').innerHTML = datos.descripcion;\n        document.getElementById('botonVolver').addEventListener('click', ()=>{\n            getProductos(function(datos){\n                document.getElementById('principal').innerHTML = pintarPlantilla();\n                plantillaPintando();\n                pintarProductos(datos);\n            })\n        })\n    })\n}\n\n//Funcion que se usa cuando se pulsa el botón de borrar producto.\n//Se borra un producto dada su ID y se vuelve a pintar la interfaz según\n//si la operación tiene éxito o no\nfunction borrarProducto(prod){\n    deleteProducto(prod.id, localStorage.getItem('token'), function(datos){\n        //console.log(datos);\n        document.getElementById('principal').innerHTML = pintarPlantilla();\n        plantillaPintando();\n        console.log(datos);\n        if(datos=='ok'){\n            console.log('JAJ')\n        }\n        getProductos(function(data){\n            document.getElementById('principal').innerHTML = pintarPlantilla();\n            plantillaPintando();\n            pintarProductos(data);\n            document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">Producto borrado con éxito</div>');\n\n        })\n    })\n}\n\n\n//Funcion que se usa cuando se pincha el botón de modificar un producto.\n//Se va a un formulario con los datos del producto actuales, los cuales\n//se pueden modificar y se pinta la interfaz según si la operación tiene\n//éxito o no\nfunction modificarProducto(prod){\n    document.getElementById('principalVista').innerHTML = pintarModificarProducto();\n    document.getElementById('inputId').value = prod.id;\n    document.getElementById('inputNombre').value = prod.nombre;\n    document.getElementById('inputPrecio').value = prod.precio;\n    document.getElementById('inputDescripcion').value = prod.descripcion;\n    console.log(prod);\n    getCategorias(function(datos){\n        var sel = document.getElementById('inputCategoria');\n            var html = '';\n            for(var i=0;i<datos.length;i++){\n                var cat = datos[i];\n                var tx = '<option value='+cat.id+'>'+cat.nombre+'</option>';\n                html += tx;\n            }\n            sel.innerHTML = html;\n\n            var options = document.getElementById('inputCategoria').options;\n            var indx;\n            for(var i = 0;i<options.length;i++){\n                console.log(options[i].value + ' ' + prod.categoria_i)\n                if(options[i].value == prod.categoria_id) indx = i;\n            }\n            console.log('soy la categoria ' + indx)\n            if(indx) document.getElementById('inputCategoria').selectedIndex = indx;\n\n            var botonMoficiar = document.getElementById('botonCrearProducto');\n            botonMoficiar.innerHTML = 'Modificar';\n            botonMoficiar.addEventListener('click', ()=>{\n                var nNombre = document.getElementById('inputNombre').value;\n                var nPrecio = document.getElementById('inputPrecio').value;\n                var nDescripcion = document.getElementById('inputDescripcion').value;\n                var nCategoria = document.getElementById('inputCategoria').value;\n                var nProducto = {id: prod.id, nombre: nNombre, precio: nPrecio, descripcion: nDescripcion, categoria: nCategoria}\n\n                updateProducto(nProducto, function(datos){\n                    if(datos=='ok'){\n                        document.getElementById('principal').innerHTML = pintarPlantilla;\n                        plantillaPintando();\n                        document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div id=\"checkEsto\" class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">Producto modificado con éxito</div>');\n                    }\n                    if(datos=='no ok'){\n                        var ch = document.getElementById('checkEsto')\n                        if(!ch) document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div id=\"checkEsto\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">Error, vuelvelo a intentar</div>');\n                    }\n                })\n            })\n\n    })\n}\n\n//Funcion que pinta todos los productos dados en 'datos'\nfunction pintarProductos(datos){\n    var htmlString = \"\";\n        var i;\n        for(i=0;i<datos.length;i++){\n            var producto = datos[i];\n            var t = '<tr><th>'+producto.id+'</th><th>'+producto.nombre+'</th><th><button type=\"button\" id=\"ver'+i+'\" style=\"margin-right: 15px\" class=\"btn btn-light\">Ver</button><button type=\"button\" id=\"modificar'+i+'\" style=\"margin-right: 15px\" class=\"btn btn-primary\">Modificar</button><button type=\"button\" id=\"borrar'+i+'\" class=\"btn btn-danger\">Borrar</button></th></tr>';\n            htmlString+=t;\n        }\n        tablaProductos.innerHTML = htmlString;\n        for(i=0;i<datos.length;i++){\n            (function(){\n                var prod = datos[i];\n                var botonVer = document.getElementById('ver'+i);\n                var botonBorrar = document.getElementById('borrar'+i);\n                var botonModificar = document.getElementById('modificar'+i);\n                botonVer.addEventListener('click', function(){\n                    verProducto(prod);\n                });\n                botonBorrar.addEventListener('click', function(){\n                    borrarProducto(prod);\n                })\n                botonModificar.addEventListener('click', function(){\n                    modificarProducto(prod);\n                })\n            }())\n        }\n}\n\n//Funcion que consigue todos los productos de una categoria y los pinta (utilizando la funcion anterior)\nfunction categoriaPintando(cat){\n    document.getElementById('principalVista').innerHTML = pintarlistaProductos();\n    getProductosCategoria(cat.id, function(datos){\n        pintarProductos(datos);\n    })\n}\n\n//Funcion que pinta toda la plantilla\nfunction plantillaPintando(){\n    document.getElementById('principal').innerHTML = pintarPlantilla();\n    document.getElementById('nomUsuario').innerHTML = localStorage.getItem('user');\n    document.getElementById('botonHome').addEventListener('click', ()=> {\n        getProductos(function(datos){\n            document.getElementById('principal').innerHTML = pintarPlantilla();\n            plantillaPintando();\n            pintarProductos(datos);\n        })\n    });\n    document.getElementById('linkLogout').addEventListener('click', ()=>{\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        loginPintando();\n    });\n    document.getElementById('linkCrearProducto').addEventListener('click', ()=>{\n        document.getElementById('principal').innerHTML = pintarPlantilla();\n        plantillaPintando();\n        document.getElementById('principalVista').innerHTML = pintarCrearProducto();\n        getCategorias(function(datos){\n\n            var sel = document.getElementById('inputCategoria');\n            var html = '';\n            for(var i=0;i<datos.length;i++){\n                var cat = datos[i];\n                var tx = '<option value='+cat.id+'>'+cat.nombre+'</option>';\n                html += tx;\n            }\n            sel.innerHTML = html;\n\n            document.getElementById('botonCrearProducto').addEventListener('click', ()=>{\n                var nombre = document.getElementById('inputNombre').value;\n                var precio = document.getElementById('inputPrecio').value;\n                var descripcion = document.getElementById('inputDescripcion').value;\n                var categoria = document.getElementById('inputCategoria').value;\n                var prod = {nombre: nombre, precio: precio, descripcion: descripcion, categoria: categoria};\n                addProducto(prod, function (datos){\n                    console.log(datos);\n                    if(datos=='ok'){\n                        document.getElementById('principal').innerHTML = pintarPlantilla;\n                        plantillaPintando();\n                        document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div id=\"checkEsto\" class=\"alert alert-info alert-dismissible fade show\" role=\"alert\">Producto creado con éxito</div>');\n                    }\n                    if(datos=='no ok'){\n                        var ch = document.getElementById('checkEsto')\n                        if(!ch) document.getElementById('principalVista').insertAdjacentHTML('afterbegin', '<div id=\"checkEsto\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">Error, vuelve a crear el producto</div>');\n                    }\n                    \n                })\n            })\n        })\n    })\n\n    //Aquí meto los productos\n    var tablaProductos = document.getElementById('tablaProductos');\n    getProductos(function(datos){\n        pintarProductos(datos);\n    })\n\n    //Aquí meto las categorias\n    var divCategorias = document.getElementById('divCategorias');\n    getCategorias(function(datos){\n        var htmlString = \"\";\n        var i;\n        for(i=0;i<datos.length;i++){\n            var categoria = datos[i];\n            var t = '<li class=\"nav-item\"><a id=\"categoria'+i+'\"class=\"nav-link\" href=\"#\"><i class=\"fas fa-fw\"></i><span>'+ categoria.nombre +'</span></a></li>'\n            htmlString+=t;\n        }\n        divCategorias.innerHTML = htmlString;\n        var j\n        for(j=0;j<datos.length;j++){\n            (function(){\n                var ca = datos[j];\n                var boton = document.getElementById('categoria'+j);\n                boton.addEventListener('click', function(){\n                    categoriaPintando(ca)\n                }); \n            }())\n            \n        }\n    });\n}\n\n//Funcion que pinta el login inicial\nfunction loginPintando(){\n    document.getElementById('principal').innerHTML = pintarLogin();\n\n    document.getElementById('botonLogin').addEventListener('click', ()=>{\n    var usu = document.getElementById('inputUsuario').value;\n    var pass = document.getElementById('inputPassword').value;\n    var text = login(usu, pass, function(datos){\n        if(datos.err){\n            document.getElementById('loginDiv').insertAdjacentHTML('afterend', '<div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">' + datos.text + '</div>')\n        }\n        else{\n            //console.log(datos);\n            localStorage.setItem('token', datos);\n            localStorage.setItem('user', decodeUsuario(datos).login);\n            //guardarlo en localstorage y acceder\n            plantillaPintando();\n            }\n        });\n    });\n}\n\n//Llamada inicial para que se pinte el login al principio\nloginPintando();"]}